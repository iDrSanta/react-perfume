{"version":3,"sources":["redux/reducers/cart.js","redux/reducers/products.js","redux/reducers/index.js","redux/store.js","assets/image/header-logo.svg","components/Header.jsx","redux/actions/products.js","redux/actions/cart.js","components/ProductItem.jsx","pages/MainPage.jsx","components/CartItem.jsx","pages/CartPage.jsx","pages/FavoritesPage.jsx","App.jsx","index.js"],"names":["initialState","totalPrice","items","cartReducer","state","action","type","payload","obj","price","filter","item","id","visibleProducts","favorites","productsReducer","category","favorite","map","rootReducer","combineReducers","cart","products","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","Header","useSelector","className","to","src","logo","alt","setVisibleProducts","nextItemCartId","ProductItem","dispatch","useDispatch","addToCart","setCart","classNames","onClick","handleFavorites","imageUrl","title","brand","MainPage","CartItem","onRemove","CartPage","console","log","length","removeFromCart","FavoritesPage","React","useEffect","App","data","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8iFAAMA,EAAe,CACnBC,WAAY,EACZC,MAAO,IAuBMC,EApBK,WAAmC,IAAlCC,EAAiC,uDAAzBJ,EAAcK,EAAW,uCACpD,OAAQA,EAAOC,MACb,IAAK,cACH,OAAO,2BACFF,GADL,IAEEF,MAAM,GAAD,mBAAME,EAAMF,OAAZ,CAAmBG,EAAOE,UAE/BN,WAAYG,EAAMH,WAAaI,EAAOE,QAAQC,IAAIC,QAEtD,IAAK,wBACH,OAAO,2BACFL,GADL,IAEEF,MAAOE,EAAMF,MAAMQ,QAAO,SAACC,GAAD,OAAUA,EAAKC,KAAOP,EAAOO,MACvDX,WAAYG,EAAMH,WAAaI,EAAOI,QAE1C,QACE,OAAOL,ICrBPJ,EAAe,CACnBE,MAAO,GACPW,gBAAiB,GACjBC,UAAW,IA2CEC,EAxCS,WAAmC,IAAlCX,EAAiC,uDAAzBJ,EAAcK,EAAW,uCACxD,OAAQA,EAAOC,MACb,IAAK,eACH,OAAO,2BACFF,GADL,IAEEF,MAAOG,EAAOE,UAElB,IAAK,uBACH,OAAO,2BACFH,GADL,IAEES,gBAAiBT,EAAMF,QAE3B,IAAK,mBACH,OAAO,2BACFE,GADL,IAEES,gBAAiBT,EAAMF,MAAMQ,QAAO,SAACC,GAAD,OAAUA,EAAKK,WAAaX,EAAOW,cAE3E,IAAK,eACH,OAAO,2BACFZ,GADL,IAEEU,UAAWV,EAAMS,gBAAgBH,QAAO,SAACC,GAAD,OAAUA,EAAKM,cAE3D,IAAK,mBACH,OAAO,2BACFb,GADL,IAEES,gBAAiBT,EAAMS,gBAAgBK,KAAI,SAACP,GAAD,mBAAC,eACvCA,GADsC,IAEzCM,SAAUN,EAAKC,KAAOP,EAAOE,SAAWI,EAAKM,SAAWN,EAAKM,cAE/Df,MAAOE,EAAMF,MAAMgB,KAAI,SAACP,GAAD,mBAAC,eACnBA,GADkB,IAErBM,SAAUN,EAAKC,KAAOP,EAAOE,SAAWI,EAAKM,SAAWN,EAAKM,gBAInE,QACE,OAAOb,IChCEe,EALKC,YAAgB,CAClCC,KAAMlB,EACNmB,SAAUP,ICEGQ,EALDC,YACZL,EACAM,OAAOC,8BAAgCD,OAAOC,gC,gDCNjC,MAA0B,wC,OCiC1BC,MA1Bf,WAAmB,IACT1B,EAAe2B,aAAY,SAACxB,GAAD,OAAWA,EAAMiB,QAA5CpB,WACR,OACE,yBAAQ4B,UAAU,SAAlB,UACE,cAAC,IAAD,CAAMC,GAAG,IAAT,SACE,sBAAKD,UAAU,cAAf,UACE,qBAAKE,IAAKC,EAAMC,IAAI,gBACpB,qBAAKJ,UAAU,eAAf,gCAGJ,sBAAKA,UAAU,eAAf,UACE,eAAC,IAAD,CAAMC,GAAG,aAAT,UACE,qBAAKD,UAAU,yBAAf,oEAAwD,OAE1D,qBAAKA,UAAU,gBACf,cAAC,IAAD,CAAMC,GAAG,QAAT,SACE,sBAAKD,UAAU,4BAAf,UACE,cAAC,IAAD,IACA,uBAAMA,UAAU,cAAhB,UAA+B5B,EAA/B,qCChBCiC,EAAqB,SAAClB,GAAD,MAAe,CAC/CV,KAAM,mBACNU,a,iBCXEmB,EAAiB,E,iBC2CNC,MAnCf,YAA+B,IAAR5B,EAAO,EAAPA,IACf6B,EAAWC,cAMXC,EAAY,SAAC/B,GACjB6B,EDdmB,SAAC7B,GAAD,MAAU,CAC/BF,KAAM,cACNC,QAAS,CAAEK,GAAIuB,IAAkB3B,QCYtBgC,CAAQhC,KAGnB,OACE,sBAAKqB,UAAU,OAAf,UACE,qBACEA,UAAWY,IAAW,CACpBxB,SAAUT,EAAIS,WAFlB,SAIE,cAAC,IAAD,CAAcyB,QAAS,kBAdL9B,EAc0BJ,EAAII,QAbpDyB,EFM2B,SAACzB,GAAD,MAAS,CACtCN,KAAM,mBACNC,QAASK,GERE+B,CAAgB/B,IADJ,IAACA,OAiBpB,qBAAKmB,IAAKvB,EAAIoC,SAAUX,IAAI,KAC5B,sBAAKJ,UAAU,YAAf,UACE,qBAAKA,UAAU,QAAf,SAAwBrB,EAAIqC,QAC5B,qBAAKhB,UAAU,QAAf,SAAwBrB,EAAIsC,QAC5B,sBAAKjB,UAAU,QAAf,uCACSrB,EAAIC,MADb,sBACwB,IACtB,wBAAQiC,QAAS,kBAAMH,EAAU/B,IAAMqB,UAAU,gBAAjD,wECJKkB,MAxBf,WACE,IAAMV,EAAWC,cACTzB,EAAoBe,aAAY,kBAAmB,CACzDf,gBADsC,EAAGS,SACfT,oBADpBA,gBAIR,OACE,qCACE,wBAAQ6B,QAAS,kBAAML,EHTQ,CACnC/B,KAAM,0BGQiDuB,UAAU,4BAA7D,gCAGA,wBAAQa,QAAS,kBAAML,EAASH,EAAmB,KAAKL,UAAU,4BAAlE,mDAGA,wBAAQa,QAAS,kBAAML,EAASH,EAAmB,KAAKL,UAAU,4BAAlE,yDAGA,qBAAKA,UAAU,mBAAf,SACGhB,GAAmBA,EAAgBK,KAAI,SAACV,GAAD,OAAS,cAAC,EAAD,CAA0BA,IAAKA,GAAbA,EAAII,a,iBCNhEoC,MAff,YAAgE,IAA5CH,EAA2C,EAA3CA,MAAOC,EAAoC,EAApCA,MAAOrC,EAA6B,EAA7BA,MAAOmC,EAAsB,EAAtBA,SAAUK,EAAY,EAAZA,SACjD,OACE,sBAAKpB,UAAU,YAAf,UACE,qBAAKE,IAAKa,EAAUX,IAAI,KACxB,sBAAKJ,UAAU,kBAAf,UACE,qBAAKA,UAAU,mBAAf,SAAmCgB,IACnC,qBAAKhB,UAAU,mBAAf,SAAmCiB,OAGrC,sBAAKjB,UAAU,mBAAf,UAAmCpB,EAAnC,wBACA,cAAC,IAAD,CAAYiC,QAASO,QCsBZC,MA7Bf,WAAqB,IACXhD,EAAU0B,aAAY,kBAAe,CAC3C1B,MAD4B,EAAGmB,KACnBnB,UADNA,MAGRiD,QAAQC,IAAIlD,GACZ,IAAMmC,EAAWC,cAKjB,OACE,qBAAKT,UAAU,yBAAf,SACK3B,EAAMmD,OACPnD,EAAMgB,KAAI,SAACP,GAAD,OACR,cAAC,EAAD,2BAEMA,EAAKH,KAFX,IAGEyC,SAAU,kBAXArC,EAWiBD,EAAKC,GAXlBH,EAWsBE,EAAKH,IAAIC,MAVrD4B,EJN0B,SAACzB,EAAIH,GAAL,MAAgB,CAC5CH,KAAM,wBACNM,KACAH,SIGW6C,CAAe1C,EAAIH,SAC5B0C,QAAQC,IAAIxC,EAAIH,GAFC,IAACG,EAAIH,KASTE,EAAKC,OAMd,qBAAKiB,UAAU,cAAf,SACE,qBAAKA,UAAU,mBAAf,4FCJK0B,MAlBf,WACE,IAAMlB,EAAWC,cACTxB,EAAcc,aAAY,SAACxB,GAAD,OAAWA,EAAMkB,YAA3CR,UACAD,EAAoBe,aAAY,SAACxB,GAAD,OAAWA,EAAMkB,YAAjDT,gBAMR,OAJA2C,IAAMC,WAAU,WACdpB,ENE+B,CACjC/B,KAAM,mBMFH,CAACO,IAGF,qBAAKgB,UAAU,mBAAf,SACGf,EAAUI,KAAI,SAACV,GAAD,OACb,cAAC,EAAD,CAA0BA,IAAKA,GAAbA,EAAII,U,QCsBf8C,MA5Bf,WACE,IAAMrB,EAAWC,cAejB,OAbAkB,IAAMC,WAAU,WACdpB,EPhBmC,CACrC/B,KAAM,eACNC,QOcuBoD,IACrBtB,EPZiC,CACnC/B,KAAM,2BOYH,CAAC+B,IAQJc,QAAQC,IAAIO,GAGV,cAAC,IAAD,UACE,sBAAK9B,UAAU,sBAAf,UACE,cAAC,EAAD,IACA,cAAC,IAAD,CAAO+B,OAAK,EAACC,KAAK,IAAIC,UAAWf,IACjC,cAAC,IAAD,CAAOc,KAAK,QAAQC,UAAWZ,IAC/B,cAAC,IAAD,CAAOW,KAAK,aAAaC,UAAWP,UCzB5CQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAU1C,MAAOA,EAAjB,SACE,cAAC,EAAD,QAGJ2C,SAASC,eAAe,W","file":"static/js/main.2126aa39.chunk.js","sourcesContent":["const initialState = {\r\n  totalPrice: 0,\r\n  items: [],\r\n};\r\n\r\nconst cartReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_TO_CART':\r\n      return {\r\n        ...state,\r\n        items: [...state.items, action.payload],\r\n\r\n        totalPrice: state.totalPrice + action.payload.obj.price,\r\n      };\r\n    case 'REMOVE_ITEM_FROM_CART':\r\n      return {\r\n        ...state,\r\n        items: state.items.filter((item) => item.id !== action.id),\r\n        totalPrice: state.totalPrice - action.price,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cartReducer;\r\n","const initialState = {\r\n  items: [],\r\n  visibleProducts: [],\r\n  favorites: [],\r\n};\r\n\r\nconst productsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'SET_PRODUCTS':\r\n      return {\r\n        ...state,\r\n        items: action.payload,\r\n      };\r\n    case 'ALL_VISIBLE_PRODUCTS':\r\n      return {\r\n        ...state,\r\n        visibleProducts: state.items,\r\n      };\r\n    case 'VISIBLE_PRODUCTS':\r\n      return {\r\n        ...state,\r\n        visibleProducts: state.items.filter((item) => item.category === action.category),\r\n      };\r\n    case 'SET_FAVORITE':\r\n      return {\r\n        ...state,\r\n        favorites: state.visibleProducts.filter((item) => item.favorite),\r\n      };\r\n    case 'HANDLE_FAVORITES':\r\n      return {\r\n        ...state,\r\n        visibleProducts: state.visibleProducts.map((item) => ({\r\n          ...item,\r\n          favorite: item.id === action.payload ? !item.favorite : item.favorite,\r\n        })),\r\n        items: state.items.map((item) => ({\r\n          ...item,\r\n          favorite: item.id === action.payload ? !item.favorite : item.favorite,\r\n        })),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default productsReducer;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport cartReducer from './cart';\r\nimport productsReducer from './products';\r\n\r\nconst rootReducer = combineReducers({\r\n  cart: cartReducer,\r\n  products: productsReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore } from 'redux';\r\n\r\nimport rootReducer from './reducers';\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\r\n);\r\n\r\nexport default store;\r\n","export default __webpack_public_path__ + \"static/media/header-logo.42a5149d.svg\";","import React from 'react';\r\nimport LocalMallIcon from '@material-ui/icons/LocalMall';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport logo from '../assets/image/header-logo.svg';\r\n\r\nfunction Header() {\r\n  const { totalPrice } = useSelector((state) => state.cart);\r\n  return (\r\n    <header className=\"header\">\r\n      <Link to=\"/\">\r\n        <div className=\"header-logo\">\r\n          <img src={logo} alt=\"Header-logo\" />\r\n          <div className=\"header-title\">perfume react</div>\r\n        </div>\r\n      </Link>\r\n      <div className=\"header-right\">\r\n        <Link to=\"/favorites\">\r\n          <div className=\"favorite header-button\">избранное</div>{' '}\r\n        </Link>\r\n        <div className=\"header-line\"></div>\r\n        <Link to=\"/cart\">\r\n          <div className=\"header-cart header-button\">\r\n            <LocalMallIcon />\r\n            <span className=\"total-price\">{totalPrice} руб</span>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","export const setProducts = (items) => ({\r\n  type: 'SET_PRODUCTS',\r\n  payload: items,\r\n});\r\n\r\nexport const setAllProducts = () => ({\r\n  type: 'ALL_VISIBLE_PRODUCTS',\r\n});\r\n\r\nexport const setVisibleProducts = (category) => ({\r\n  type: 'VISIBLE_PRODUCTS',\r\n  category,\r\n});\r\n\r\nexport const setFavorites = () => ({\r\n  type: 'SET_FAVORITE',\r\n});\r\n\r\nexport const handleFavorites = (id) => ({\r\n  type: 'HANDLE_FAVORITES',\r\n  payload: id,\r\n});\r\n","let nextItemCartId = 0;\r\n\r\nexport const setCart = (obj) => ({\r\n  type: 'ADD_TO_CART',\r\n  payload: { id: nextItemCartId++, obj },\r\n});\r\n\r\nexport const removeFromCart = (id, price) => ({\r\n  type: 'REMOVE_ITEM_FROM_CART',\r\n  id,\r\n  price,\r\n});\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport { setCart } from '../redux/actions/cart';\r\n\r\nimport { handleFavorites } from '../redux/actions/products';\r\nimport classNames from 'classnames';\r\n\r\nfunction ProductItem({ obj }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const handleFavorite = (id) => {\r\n    dispatch(handleFavorites(id));\r\n  };\r\n\r\n  const addToCart = (obj) => {\r\n    dispatch(setCart(obj));\r\n  };\r\n\r\n  return (\r\n    <div className=\"item\">\r\n      <div\r\n        className={classNames({\r\n          favorite: obj.favorite,\r\n        })}>\r\n        <FavoriteIcon onClick={() => handleFavorite(obj.id)} />\r\n      </div>\r\n\r\n      <img src={obj.imageUrl} alt=\"\" />\r\n      <div className=\"item-info\">\r\n        <div className=\"title\">{obj.title}</div>\r\n        <div className=\"brand\">{obj.brand}</div>\r\n        <div className=\"price\">\r\n          цена: {obj.price} руб{' '}\r\n          <button onClick={() => addToCart(obj)} className=\"header-button\">\r\n            добавить\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductItem;\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { setAllProducts, setVisibleProducts } from '../redux/actions/products';\r\nimport ProductItem from '../components/ProductItem';\r\n\r\nfunction MainPage() {\r\n  const dispatch = useDispatch();\r\n  const { visibleProducts } = useSelector(({ products }) => ({\r\n    visibleProducts: products.visibleProducts,\r\n  }));\r\n\r\n  return (\r\n    <>\r\n      <button onClick={() => dispatch(setAllProducts())} className=\"header-button sort-button\">\r\n        Все\r\n      </button>\r\n      <button onClick={() => dispatch(setVisibleProducts(0))} className=\"header-button sort-button\">\r\n        Для нее\r\n      </button>\r\n      <button onClick={() => dispatch(setVisibleProducts(1))} className=\"header-button sort-button\">\r\n        Для него\r\n      </button>\r\n      <div className=\"products-wrapper\">\r\n        {visibleProducts && visibleProducts.map((obj) => <ProductItem key={obj.id} obj={obj} />)}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MainPage;\r\n","import React from 'react';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nfunction CartItem({ title, brand, price, imageUrl, onRemove }) {\r\n  return (\r\n    <div className=\"cart-item\">\r\n      <img src={imageUrl} alt=\"\" />\r\n      <div className=\"cart-item__info\">\r\n        <div className=\"cart-item__title\">{title}</div>\r\n        <div className=\"cart-item__brand\">{brand}</div>\r\n      </div>\r\n\r\n      <div className=\"cart-item__price\">{price}руб</div>\r\n      <DeleteIcon onClick={onRemove} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartItem;\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport CartItem from '../components/CartItem';\r\nimport { removeFromCart } from '../redux/actions/cart';\r\n\r\nfunction CartPage() {\r\n  const { items } = useSelector(({ cart }) => ({\r\n    items: cart.items,\r\n  }));\r\n  console.log(items);\r\n  const dispatch = useDispatch();\r\n  const removecart = (id, price) => {\r\n    dispatch(removeFromCart(id, price));\r\n    console.log(id, price);\r\n  };\r\n  return (\r\n    <div className=\"container cart-wrapper\">\r\n      {!!items.length ? (\r\n        items.map((item) => (\r\n          <CartItem\r\n            key={item.id}\r\n            {...item.obj}\r\n            onRemove={() => removecart(item.id, item.obj.price)}\r\n          />\r\n        ))\r\n      ) : (\r\n        <div className=\"cart__empty\">\r\n          <div className=\"cart__empty-text\">Корзина пуста</div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartPage;\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { setFavorites } from '../redux/actions/products';\r\nimport ProductItem from '../components/ProductItem';\r\n\r\nfunction FavoritesPage() {\r\n  const dispatch = useDispatch();\r\n  const { favorites } = useSelector((state) => state.products);\r\n  const { visibleProducts } = useSelector((state) => state.products);\r\n\r\n  React.useEffect(() => {\r\n    dispatch(setFavorites());\r\n  }, [visibleProducts]);\r\n\r\n  return (\r\n    <div className=\"products-wrapper\">\r\n      {favorites.map((obj) => (\r\n        <ProductItem key={obj.id} obj={obj} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FavoritesPage;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport axios from 'axios';\r\n\r\nimport Header from './components/Header';\r\nimport MainPage from './pages/MainPage';\r\nimport CartPage from './pages/CartPage';\r\nimport FavoritesPage from './pages/FavoritesPage';\r\nimport { setProducts, setAllProducts } from './redux/actions/products';\r\nimport data from './data.json';\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n\r\n  React.useEffect(() => {\r\n    dispatch(setProducts(data));\r\n    dispatch(setAllProducts());\r\n  }, [dispatch]);\r\n\r\n  // React.useEffect(() => {\r\n  //   axios.get(`http://localhost:3000/data.json`).then(({ data }) => {\r\n  //     dispatch(setProducts(data));\r\n  //     dispatch(setAllProducts());\r\n  //   });\r\n  // }, [dispatch]);\r\n  console.log(data);\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"App clear container\">\r\n        <Header />\r\n        <Route exact path=\"/\" component={MainPage} />\r\n        <Route path=\"/cart\" component={CartPage} />\r\n        <Route path=\"/favorites\" component={FavoritesPage} />\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'macro-css';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport store from './redux/store';\r\nimport './index.scss';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}